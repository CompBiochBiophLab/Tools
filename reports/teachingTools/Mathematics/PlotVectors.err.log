Traceback (most recent call last):
  File "/Users/jordivilla/miniconda3/lib/python3.11/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/Users/jordivilla/miniconda3/lib/python3.11/site-packages/nbclient/client.py", line 1305, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jordivilla/miniconda3/lib/python3.11/site-packages/jupyter_core/utils/__init__.py", line 166, in wrapped
    return loop.run_until_complete(inner)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jordivilla/miniconda3/lib/python3.11/asyncio/base_events.py", line 653, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/Users/jordivilla/miniconda3/lib/python3.11/site-packages/nbclient/client.py", line 705, in async_execute
    await self.async_execute_cell(
  File "/Users/jordivilla/miniconda3/lib/python3.11/site-packages/nbclient/client.py", line 1058, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/Users/jordivilla/miniconda3/lib/python3.11/site-packages/nbclient/client.py", line 914, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import matplotlib.pyplot as plt
from matplotlib.ticker import MaxNLocator
import numpy as np

# function to plot vectors with arrows

def plot_vectors(**kwargs):
    M = []
    for key, value in kwargs.items():
        if isinstance(value, np.ndarray):
            value = value.tolist()

        for i, v in enumerate(value):
            if isinstance(v, np.ndarray):
                value[i] = value[i].tolist()

            if not isinstance(value[0], list):
                value = [[0,0], value]

        M.append([key] + value)

    plt.figure(figsize=(12,12))
    ax = plt.axes()
    ax.grid(visible=True, which='both')
    ax.xaxis.set_major_locator(MaxNLocator(integer=True)); ax.yaxis.set_major_locator(MaxNLocator(integer=True))
    ax.set_aspect('equal', 'box')
    cmap = plt.get_cmap('nipy_spectral')
    lc = np.linspace(0.03, 0.99, 20)
    colors = cmap(np.insert(lc[::2], range(10), lc[::-2]))

    for i in range(len(M)):
        l = 0; pos = []

        for j in range(0, len(M[i][1])):
            pos.append(M[i][2][j] - M[i][1][j])
            l += (pos[j])**2
            pos[j] = pos[j] / 2 + M[i][1][j]

        l = l**0.5
#      ax.text(pos[0], pos[1], f'{M[i][0]}={l:.2f}', size=18)
 # uncomment if you want the names and values for each vector
       # ax.text(pos[0], pos[1], f'{M[i][0]}={tuple(M[i][2])}', size=18)
        ax.text(pos[0], pos[1], f'{M[i][0]}', size=18)
    ax.grid(visible=True, which='both')
    
    ##############################
    # arrows
    x, y, u, v = zip(*[(i[1][0], i[1][1], i[2][0] - i[1][0], i[2][1] - i[1][1]) for i in M])
    
    #print the arrows
    ax.quiver(x, y, u, v, angles='xy', scale_units='xy', scale=1., color=colors[:len(M)])

    ##############################
    # axes
    # set the x-spine
    ax.spines['left'].set_position('zero')

    # turn off the right spine/ticks
    ax.spines['right'].set_color('none')
    ax.yaxis.tick_left()

    # set the y-spine
    ax.spines['bottom'].set_position('zero')

    # turn off the top spine/ticks
    ax.spines['top'].set_color('none')
    ax.xaxis.tick_bottom()

    #########################
    # labels
    #    ax.set_xlabel(r'$\vec{i}$',fontsize=16)
    #    ax.set_ylabel(r'$\vec{i}$',fontsize=16)
    ax.set_xlabel('eix X',fontsize=16)
    ax.set_ylabel('eix Y',fontsize=16)
#    ax.set_title(r'\TeX\ is Number $\sum_{n=1}^\infty'
#               r'\frac{-e^{i\pi}}{2^n}$!', fontsize=16, color='r')


    ax.plot(np.array(x)+np.array(u), np.array(y)+np.array(v), np.array(x), np.array(y), visible=False)
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mModuleNotFoundError[0m                       Traceback (most recent call last)
Cell [0;32mIn[1], line 1[0m
[0;32m----> 1[0m [38;5;28;01mimport[39;00m [38;5;21;01mmatplotlib[39;00m[38;5;21;01m.[39;00m[38;5;21;01mpyplot[39;00m [38;5;28;01mas[39;00m [38;5;21;01mplt[39;00m
[1;32m      2[0m [38;5;28;01mfrom[39;00m [38;5;21;01mmatplotlib[39;00m[38;5;21;01m.[39;00m[38;5;21;01mticker[39;00m [38;5;28;01mimport[39;00m MaxNLocator
[1;32m      3[0m [38;5;28;01mimport[39;00m [38;5;21;01mnumpy[39;00m [38;5;28;01mas[39;00m [38;5;21;01mnp[39;00m

[0;31mModuleNotFoundError[0m: No module named 'matplotlib'

